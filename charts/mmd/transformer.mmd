---
config:
  theme: redux
  layout: fixed
  look: classic
  flowchart:
    curve: linear
---
flowchart LR
 subgraph Input["Input"]
        A(["Features"])
        B(["Covariates<br>"])
        B4{"Input Chunk<br><small>[x<sub>t-27</sub>, ..., x<sub>t</sub>]</small>"}
  end
 subgraph Encoder["Encoder Layer"]
        L11("h<sub>1</sub><br>")
        L12("h<sub>2</sub><br>")
        DOTS["..."]
        L13("h<sub>128</sub><br>")
  end
 subgraph Decoder["Decoder Layer"]
        L21("h<sub>1</sub><br>")
        L22("h<sub>2</sub><br>")
        DOTS2["..."]
        L23("h<sub>128</sub><br>")
  end
 subgraph Output["Output"]
        F0{"Output Chunk<br><small>[x<sub>t</sub>, x<sub>t+1</sub>]</small>"}
        F(["Features"])
  end
    A --> B4
    B --> B4
    B4 --> Encoder
    Encoder --> Decoder
    Decoder --> F0
    F0 --> F
    n1["nhead=4<br>activation=Bilinear<br>dropoutâ‰ˆ0.12"]
    n1@{ shape: text}
    style DOTS fill:transparent,stroke:transparent
    style DOTS2 fill:transparent,stroke:transparent
